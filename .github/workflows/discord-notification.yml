name: R-Type Discord Notification

on:
  push:
    branches:
      - main

jobs:
  notify-discord:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Send Discord Notification
        uses: sarisia/actions-status-discord@v1
        with:
          webhook: https://discord.com/api/webhooks/1330845130147627040/4tD9VKGUWO4AtffMww_S6FiraHsRWBwqg0iiGho-BkTHxjK6KZhVLZhNHrt0mVbqZ77z
          title: "🎮 R-Type Push Notification"
          description: |
            🚀 **Nouveau push sur la branche main !**
            
            👤 **Auteur :** ${{ github.event.head_commit.author.name }}
            📝 **Message :** ${{ github.event.head_commit.message }}
            
            📊 **Stats :**
            - Fichiers modifiés : ${{ github.event.head_commit.modified.length }}
            - Ajouts : ${{ github.event.head_commit.added.length }}
            - Suppressions : ${{ github.event.head_commit.removed.length }}
            
            🔗 [Voir les changements](${{ github.event.head_commit.url }})
          color: 0x2ecc71
          username: R-Type CI/CD Bot
          avatar_url: https://raw.githubusercontent.com/EpitechPromo2027/B-CPP-500-MAR-5-2-rtype-jeremy.bisson/main/ressources/sprites/vaisseau0.png